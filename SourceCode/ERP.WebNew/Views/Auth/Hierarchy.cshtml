@{
    ViewBag.Title = "Hierarchy";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="content-wrapper">
    <table id="tblProducts" class="easyui-datagrid" style="width:100%;"
           data-options="resizeHandle:'right',singleSelect:false,pageList: [10,20,50,100], pageSize:10,remoteSort:true,multiSort:true,pagination:true,url:'@Url.Content("~/Auth/GetAllHierarchies")?@HttpContext.Current.Request.QueryString',method:'get',onLoadSuccess:onLoadSuccess">
        <thead>
            <tr>
                <th data-options="field:'ck',checkbox:true"></th>
                <th data-options="field:'Name',width:120,align:'center',title:'Name'">部门名称</th>
                <th data-options="field:'Description',width:120,align:'center',title:'Description'">描述</th>
                <th data-options="field:'CreateDate',width:120,align:'center',title:'CreateDate'">创建时间</th>
                <th data-options="field:'HierarchyID',width:200,align:'center',formatter:operationFormatter">操作</th>
            </tr>
        </thead>
    </table>
</div>

@section scripts
{
    <script>
        $(function () {
            //清空所有
            $("#bntClearAll").click(function () {
            });
        })

        function onLoadSuccess() {
            jav.initGridCellTooltips(["ck", "HierarchyID"]);
        }

        function operationFormatter(val, row, index) {
            var ops = "";
            ops += "<a wintype='idialog' winsize='900,800,yes' class='btn btn-default btn-xs w_auto' onclick='return OA.i(this)' href='@(Url.Content("~/Product/Edit/"))" + val + "'>编辑</a>";
            //ops += "<button class='btn btn-danger btn-xs w_auto' onclick='lockAdmin(" + val + ")'>冻结</button>";
            return ops;
        }

        function lockAdmin(userid) {

        }
    </script>
}